---
title: "eda2"
author: "Junhyeok Park"
date: "2022-11-09"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
```

```{r}
# read in the data and rename the columns
top1 = readxl::read_xls("./data/WID_Data_17112022-171839.xls")
top1
cols = colnames(top1) %>% stringr::str_match("\n(.+)$")
cols = cols[,2]
cols[1] = "percentile"
cols[2] = "year"
colnames(top1) = cols
top1 = top1 %>% rename("Georgia" = "Georgia (US)")

# pivot_longer 
top1 = top1[-1] %>% pivot_longer(cols = c("Alabama":"Wyoming"), names_to = "state", values_to = "99th_percentile")
top1 %>% head(10)
```

## Factor 1: Number of Universities
```{r}
# Import / Preprocess the data
college = readxl::read_xls("./data/college.xls")
state_names = college$state %>% stringr::str_match("(.*) \\.+")
college$state = state_names[,2]
college = college %>% select("state", contains("total") | contains("Total"))
college %>% head(10)
```

## Factor 2: Literacy Rate
```{r}
# Import / Preprocess the data
literacy = read_csv("./data/literacy_rate.csv") %>% arrange(state)
literacy
```






